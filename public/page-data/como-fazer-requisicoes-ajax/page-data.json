{"componentChunkName":"component---src-templates-blog-post-js","path":"/como-fazer-requisicoes-ajax/","result":{"data":{"markdownRemark":{"fields":{"slug":"/como-fazer-requisicoes-ajax/"},"frontmatter":{"title":"Como fazer requisições ajax","description":"Requisições ajax com Fetch API e Axios","image":"https://cdn-images-1.medium.com/max/1200/1*X4f9MUJG2O2ufvjW2tSjlg.png","date":"February 18, 2018"},"html":"<p>Há algum tempo (não muito distante), pessoas comuns adicionavam em seus projetos a biblioteca JQuery.\nEm alguns casos (ainda frequentes), apenas para usarem a função ajax().</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$.ajax({\n    url:&quot;https://api.github.com/users/tailomateus/repos&quot;,\n    dataType: &#39;json&#39;,\n    success: function(response){\n\t\tconsole.log(response);\n    }\n});</code></pre></div>\n<p>Além dessa função, o JavaScript possui um método,\n<a href=\"https://developer.mozilla.org/pt-BR/docs/Web/API/XMLHttpRequest\">XMLHttpRequest</a> também faz requisições.\nPorém para conseguir o esperado é necessário muitos passos.\nCom isso foi criado a Fetch API com recursos mais flexíveis e conceitos de request e response,\nisso cabe em novas tecnologias que estão surgindo, como Service Workers e Cache API.</p>\n<p>A Fetch API e o Axios API utilizam o conceito de promessas, você pode ler mais sobre nos links abaixo:</p>\n<p>[Promises no JavaScript] (<a href=\"https://braziljs.org/blog/promises-no-javascript/\">https://braziljs.org/blog/promises-no-javascript/</a>)</p>\n<p>[Promessas em JavaScript: uma introdução] (<a href=\"https://developers.google.com/web/fundamentals/primers/promises?hl=pt-br\">https://developers.google.com/web/fundamentals/primers/promises?hl=pt-br</a>)</p>\n<p>[Using promises] (<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Using_promises\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Using_promises</a>)</p>\n<h2>Fetch API - Como funciona</h2>\n<p>Abaixo, como exemplo é utilizado a API do Github. </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">fetch(&#39;https://api.github.com/users/tailomateus/repos&#39;)\n  .then(response =&gt; response.json())\n  .then(data =&gt; console.log(&#39;data is&#39;, data))\n  .catch(error =&gt; console.log(&#39;error is&#39;, error));</code></pre></div>\n<p>Além da url, existem outros parâmetros,caso queira se aprofundar mais no assunto, sugiro:</p>\n<p>[Introduction to fetch] (<a href=\"https://developers.google.com/web/updates/2015/03/introduction-to-fetch\">https://developers.google.com/web/updates/2015/03/introduction-to-fetch</a>)</p>\n<p>[Using fetch - CSS Tricks] (<a href=\"https://css-tricks.com/using-fetch/\">https://css-tricks.com/using-fetch/</a>)</p>\n<p>[Using fetch - Mozilla] (<a href=\"https://developer.mozilla.org/pt-BR/docs/Web/API/Fetch_API/Using_Fetch\">https://developer.mozilla.org/pt-BR/docs/Web/API/Fetch_API/Using_Fetch</a>)</p>\n<h3>SUPORTE</h3>\n<p>O maior problema para mim é não possuir suporte no IE 11.</p>\n<p><img src=\"https://tailomateus.github.io/images/support_fetch.png\" alt=\"Support Fetch API\"></p>\n<h2>Axios - Como usar</h2>\n<p>A API é basicamente um cliente http, funciona em browsers e em servidores nodejs. </p>\n<p>Se quiser usar no browser, importe a cdn:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;script src=&quot;https://unpkg.com/axios/dist/axios.min.js&quot;&gt;&lt;/script&gt;</code></pre></div>\n<p>Ou instale utilizando o npm: </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install axios</code></pre></div>\n<p>Importe o pacote: </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">ES5: var axios = require(&#39;axios&#39;); \nES6: import axios from &#39;axios&#39;;</code></pre></div>\n<p>Após instalar, o código abaixo simula uma requisição get na API do Github</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">axios.get(&#39;https://api.github.com/users/tailomateus/repos&#39;).then(function(response){\n    console.log(response.data); \n}); </code></pre></div>\n<p>Para utilizar o método post, possui um parâmetro a mais, indicando o que está sendo enviado para o servidor: </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">axios.post(&#39;/save&#39;, { firstName: &#39;Teste&#39;, lastName: &#39;Testes&#39; })\n  .then(function(response){\n    console.log(&#39;salvo com sucesso&#39;)\n});</code></pre></div>\n<h3>SUPORTE</h3>\n<p>É suportado pelos browsers mais usados.</p>\n<p><img src=\"https://tailomateus.github.io/images/support_axios.png\" alt=\"Support Fetch API\"></p>\n<p>Para saber mais sobre Axios API:</p>\n<p><a href=\"https://www.npmjs.com/package/axios\">Axios NPM</a></p>\n<p><a href=\"https://medium.com/codingthesmartway-com-blog/getting-started-with-axios-166cb0035237\">Getting Started With Axios</a></p>\n<h2>CONCLUSÃO</h2>\n<p>Neste artigo foi demonstrado formas para fazer requisições (JQuey, Fetch API, Axios), além dessas, existem outras formas. Porém,\ncabe a você a melhor opção para usar nos projetos.</p>","timeToRead":3}},"pageContext":{"slug":"/como-fazer-requisicoes-ajax/","previousPost":{"frontmatter":{"title":"Maratona de programação e Uri Online Judge"},"fields":{"slug":"/maratona-de-programacao/"}},"nextPost":{"fields":{"slug":"/eslint-hooks-no-git/"},"frontmatter":{"title":"Usando ESlint e hooks no git"}}}}}