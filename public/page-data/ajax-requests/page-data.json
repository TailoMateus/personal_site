{"componentChunkName":"component---src-templates-blog-post-js","path":"/ajax-requests/","result":{"data":{"markdownRemark":{"fields":{"slug":"/ajax-requests/"},"frontmatter":{"title":"How to make ajax requests","description":"Ajax requests with Fetch API and Axios","image":"https://cdn-images-1.medium.com/max/1200/1*X4f9MUJG2O2ufvjW2tSjlg.png","date":"February 20, 2018"},"html":"<p>Some time ago (not that long ago), people added the JQuery library to their projects. In some (still frequent) cases, only to use the ajax() function.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$.ajax({\n    url:&quot;https://api.github.com/users/tailomateus/repos&quot;,\n    dataType: &#39;json&#39;,\n    success: function(response){\n  console.log(response);\n    }\n});</code></pre></div>\n<p>In addition to this function, JavaScript has a method, <a href=\"https://developer.mozilla.org/pt-BR/docs/Web/API/XMLHttpRequest\">XMLHttpRequest</a> that also makes requests. However, it takes many steps to achieve what is expected. This issue led to the creation of the Fetch and Axios APIs, which has more flexible features, including request and response concepts.</p>\n<p>The Fetch and Axios APIs use the concept of promises. You can read more about it in the following links:</p>\n<p><a href=\"https://developers.google.com/web/fundamentals/primers/promises\">JavaScript Promises: an Introduction</a></p>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Using_promises\">Using promises</a></p>\n<h2>Fetch API - How it works</h2>\n<p>Below is an example of the Github API.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">fetch(&#39;https://api.github.com/users/tailomateus/repos&#39;)\n  .then(response =&gt; response.json())\n  .then(data =&gt; console.log(&#39;data is&#39;, data))\n  .catch(error =&gt; console.log(&#39;error is&#39;, error));</code></pre></div>\n<p>If you want to go deeper into the subject, I suggest:</p>\n<p><a href=\"https://developers.google.com/web/updates/2015/03/introduction-to-fetch\">Introduction to fetch</a></p>\n<p><a href=\"https://css-tricks.com/using-fetch/\">Using fetch - CSS Tricks</a></p>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch\">Using fetch - Mozilla</a></p>\n<h3>SUPPORT</h3>\n<p>Personally I think the biggest problem is not having support in IE 11.</p>\n<p><img src=\"https://tailomateus.github.io/images/support_fetch.png\" alt=\"Support Fetch API\"></p>\n<h2>Axios - How to use</h2>\n<p>The API is basically an http client, it works on browsers and nodejs servers. </p>\n<p>If you want to use in the browser, import the cdn:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;script src=&quot;https://unpkg.com/axios/dist/axios.min.js&quot;&gt;&lt;/script&gt;</code></pre></div>\n<p>Or install it using npm:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install axios</code></pre></div>\n<p>Import the package:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">ES5: var axios = require(&#39;axios&#39;); \nES6: import axios from &#39;axios&#39;;</code></pre></div>\n<p>After the installation, the code below is able to simulate a get request to the Github API.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">axios.get(&#39;https://api.github.com/users/tailomateus/repos&#39;).then(function(response){\n    console.log(response.data); \n}); </code></pre></div>\n<p>To use the post method you need one more parameter, indicating the data sent to the server:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">axios.post(&#39;/save&#39;, { firstName: &#39;Teste&#39;, lastName: &#39;Testes&#39; })\n  .then(function(response){\n    console.log(&#39;Saved successfully&#39;)\n});</code></pre></div>\n<h3>SUPPORT</h3>\n<p>It is supported by the most used browsers.</p>\n<p><img src=\"https://tailomateus.github.io/images/support_axios.png\" alt=\"Support Fetch API\"></p>\n<p>To learn more about Axios API:</p>\n<p><a href=\"https://www.npmjs.com/package/axios\">Axios NPM</a></p>\n<p><a href=\"https://medium.com/codingthesmartway-com-blog/getting-started-with-axios-166cb0035237\">Getting Started With Axios</a></p>\n<h2>CONCLUSION</h2>\n<p>In this article we have demonstrated ways to make requests (JQuery, Fetch API, Axios). There are many other ways, neither being the single best one for every situation. The important thing is to always choose the best fit for each project.</p>","timeToRead":2}},"pageContext":{"slug":"/ajax-requests/","previousPost":{"frontmatter":{"title":"Creating an Express API"},"fields":{"slug":"/express-api/"}},"nextPost":{"fields":{"slug":"/eslint-git-hooks/"},"frontmatter":{"title":"Using ESlint and Git Hooks"}}}}}